<a (click)="returnToParams()">Retour aux paramètres de l'utilisateur</a>

<div *ngIf="user !== null">
    Résultats de {{user.name}}:
</div>

<div *ngIf="quiz===null">
    <button *ngFor="let q of quizList" (click)="setQuiz(q.id)">
        {{q.name}}
    </button>
</div>

<div *ngIf="quiz!==null">
    <button (click)="resetQuiz()">Retour</button>
    <div *ngFor="let question of quiz.questions; let i=index">

        <p class="labelQuestion">{{question.label}}</p>
        <p *ngIf="question.image !== null"><img [src]="question.image"/></p>
        <p>Bonne réponse: {{question.answers[question.correctAnswer]}}</p>
        <a (click)="resultsDisplayed[i]=!resultsDisplayed[i]">{{resultsDisplayed[i] ? "(Masquer)" : "(Afficher)"}}</a>
        <div *ngIf="resultsDisplayed[i]">
            <div *ngFor="let a of attempts"
                 [className]="(question.correctAnswer.valueOf() == (a.answers[i]).valueOf()) ? 'repondujuste' : 'repondufaux'">
                A répondu {{question.answers[a.answers[i]]}} le {{a.createdAt}}
            </div>
            <div *ngIf="attempts.length === 0" class="pasrepondu">
                N'a pas encore répondu
            </div>
        </div>
    </div>
</div>